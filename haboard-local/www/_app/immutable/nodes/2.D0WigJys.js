import{s as ht,d as c,W as $e,r as it,p as nt,X as Ve,b as ve,c as K,e as i,q as F,Y as Lr,o as n,f as b,g as v,Z as Q,j as m,h as ae,k as p,l as y,t as se,m as Pe,_ as Bt,n as Le,u as We,v as Qe,F as ct,$ as Dt,a0 as Lt,B as It,a1 as Ir,A as Mr,a2 as Nr,G as Vr}from"../chunks/DNIhbMUA.js";import{S as gt,i as bt,b as qe,t as Ee,a as _e,g as Je,c as Ze,d as pt,m as _t,e as vt,f as kt}from"../chunks/B5VZwSLu.js";import{e as Se,a as Cr,t as st,b as Er,q as Mt,f as Nt,c as ot,g as Sr,h as zt,i as Br,s as St,u as Hr,j as jr,k as Or,l as Ar,o as Ur,m as Pr,p as qr,r as Fr,v as Kr,w as zr,x as Rr,y as Gr,z as Xr,A as Yr}from"../chunks/toP5lbbu.js";import{w as Wr}from"../chunks/Co3IwziB.js";var ft=(l=>(l[l.None=0]="None",l[l.Low=1]="Low",l[l.Medium=2]="Medium",l[l.High=3]="High",l))(ft||{});const Rt={0:"None",1:"Low",2:"Medium",3:"High"},Qr={0:"text-gray-500",1:"text-blue-500",2:"text-yellow-500",3:"text-red-500"};function Gt(l,e,t){const r=l.slice();return r[27]=e[t],r}function Xt(l,e,t){const r=l.slice();return r[30]=e[t],r}function Yt(l){let e,t=Rt[l[30]]+"",r,a,s,o,u,g;function f(){return l[20](l[30])}return{c(){e=p("button"),r=se(t),a=y(),this.h()},l(d){e=b(d,"BUTTON",{type:!0,class:!0,"aria-label":!0,"aria-pressed":!0});var h=v(e);r=ae(h,t),a=m(h),h.forEach(c),this.h()},h(){n(e,"type","button"),n(e,"class",s="flex-1 px-3 py-2 rounded-lg border "+(l[5]===l[30]?"bg-blue-500 text-white border-blue-500":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600")+" hover:shadow transition-all"),n(e,"aria-label",Rt[l[30]]+" priority"),n(e,"aria-pressed",o=l[5]===l[30])},m(d,h){K(d,e,h),i(e,r),i(e,a),u||(g=F(e,"click",f),u=!0)},p(d,h){l=d,h[0]&32&&s!==(s="flex-1 px-3 py-2 rounded-lg border "+(l[5]===l[30]?"bg-blue-500 text-white border-blue-500":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600")+" hover:shadow transition-all")&&n(e,"class",s),h[0]&32&&o!==(o=l[5]===l[30])&&n(e,"aria-pressed",o)},d(d){d&&c(e),u=!1,g()}}}function Wt(l){let e,t=l[27].name+"",r,a,s,o,u,g,f;function d(){return l[21](l[27])}return{c(){e=p("button"),r=se(t),a=y(),this.h()},l(h){e=b(h,"BUTTON",{type:!0,class:!0,"aria-label":!0,"aria-pressed":!0});var _=v(e);r=ae(_,t),a=m(_),_.forEach(c),this.h()},h(){n(e,"type","button"),n(e,"class",s="px-3 py-1 rounded-full text-sm "+(l[6].includes(l[27].name)?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300")+" hover:shadow transition-all"),n(e,"aria-label",o=l[27].name+" tag"),n(e,"aria-pressed",u=l[6].includes(l[27].name))},m(h,_){K(h,e,_),i(e,r),i(e,a),g||(f=F(e,"click",d),g=!0)},p(h,_){l=h,_[0]&1024&&t!==(t=l[27].name+"")&&ve(r,t),_[0]&1088&&s!==(s="px-3 py-1 rounded-full text-sm "+(l[6].includes(l[27].name)?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300")+" hover:shadow transition-all")&&n(e,"class",s),_[0]&1024&&o!==(o=l[27].name+" tag")&&n(e,"aria-label",o),_[0]&1088&&u!==(u=l[6].includes(l[27].name))&&n(e,"aria-pressed",u)},d(h){h&&c(e),g=!1,f()}}}function Jr(l){let e,t="+ Add Tag",r,a;return{c(){e=p("button"),e.textContent=t,this.h()},l(s){e=b(s,"BUTTON",{type:!0,class:!0,"aria-label":!0,"data-svelte-h":!0}),Q(e)!=="svelte-1gw6yoy"&&(e.textContent=t),this.h()},h(){n(e,"type","button"),n(e,"class","px-3 py-1 rounded-full text-sm bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600 transition-all border border-dashed border-gray-300 dark:border-gray-600"),n(e,"aria-label","Add new tag")},m(s,o){K(s,e,o),r||(a=F(e,"click",l[25]),r=!0)},p:Le,d(s){s&&c(e),r=!1,a()}}}function Zr(l){let e,t,r="New tag name",a,s,o,u,g=l[9]?"...":"âœ“",f,d,h,_,L="âœ•",N,V;return{c(){e=p("div"),t=p("label"),t.textContent=r,a=y(),s=p("input"),o=y(),u=p("button"),f=se(g),h=y(),_=p("button"),_.textContent=L,this.h()},l(w){e=b(w,"DIV",{class:!0});var B=v(e);t=b(B,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Q(t)!=="svelte-1m2ou28"&&(t.textContent=r),a=m(B),s=b(B,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),o=m(B),u=b(B,"BUTTON",{type:!0,class:!0,"aria-label":!0});var A=v(u);f=ae(A,g),A.forEach(c),h=m(B),_=b(B,"BUTTON",{type:!0,class:!0,"aria-label":!0,"data-svelte-h":!0}),Q(_)!=="svelte-11w5lwh"&&(_.textContent=L),B.forEach(c),this.h()},h(){n(t,"for","new-tag-input"),n(t,"class","sr-only"),n(s,"id","new-tag-input"),n(s,"type","text"),n(s,"placeholder","New tag"),n(s,"class","px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded-full bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"),s.disabled=l[9],n(u,"type","button"),u.disabled=d=l[9]||!l[8].trim(),n(u,"class","px-2 py-1 text-xs bg-green-500 text-white rounded-full hover:bg-green-600 disabled:opacity-50"),n(u,"aria-label","Create tag"),n(_,"type","button"),n(_,"class","px-2 py-1 text-xs bg-red-500 text-white rounded-full hover:bg-red-600"),n(_,"aria-label","Cancel"),n(e,"class","flex items-center gap-1")},m(w,B){K(w,e,B),i(e,t),i(e,a),i(e,s),Ve(s,l[8]),i(e,o),i(e,u),i(u,f),i(e,h),i(e,_),N||(V=[F(s,"input",l[22]),F(s,"keydown",l[23]),F(u,"click",l[14]),F(_,"click",l[24])],N=!0)},p(w,B){B[0]&512&&(s.disabled=w[9]),B[0]&256&&s.value!==w[8]&&Ve(s,w[8]),B[0]&512&&g!==(g=w[9]?"...":"âœ“")&&ve(f,g),B[0]&768&&d!==(d=w[9]||!w[8].trim())&&(u.disabled=d)},d(w){w&&c(e),N=!1,it(V)}}}function Qt(l){let e,t="Cancel",r,a;return{c(){e=p("button"),e.textContent=t,this.h()},l(s){e=b(s,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-lfyyhl"&&(e.textContent=t),this.h()},h(){n(e,"type","button"),n(e,"class","px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors font-medium")},m(s,o){K(s,e,o),r||(a=F(e,"click",l[12]),r=!0)},p:Le,d(s){s&&c(e),r=!1,a()}}}function $r(l){let e,t,r,a="Task Title *",s,o,u,g,f,d="Notes",h,_,L,N,V,w,B="Due Date",A,x,te,T,I,le="Due Time",be,J,Y,O,W,z="Priority",M,H,de,G,re,Z="Tags",ie,j,k,q,E,U,Ce=l[0]?"Update Task":"Create Task",he,me,pe,ye,je,fe,ne=Se(Object.values(ft).filter(Jt)),X=[];for(let D=0;D<ne.length;D+=1)X[D]=Yt(Xt(l,ne,D));let He=Se(l[10]),ce=[];for(let D=0;D<He.length;D+=1)ce[D]=Wt(Gt(l,He,D));function Te(D,ee){return D[7]?Zr:Jr}let R=Te(l),$=R(l),P=l[0]&&Qt(l);return{c(){e=p("form"),t=p("div"),r=p("label"),r.textContent=a,s=y(),o=p("input"),u=y(),g=p("div"),f=p("label"),f.textContent=d,h=y(),_=p("textarea"),L=y(),N=p("div"),V=p("div"),w=p("label"),w.textContent=B,A=y(),x=p("input"),te=y(),T=p("div"),I=p("label"),I.textContent=le,be=y(),J=p("input"),Y=y(),O=p("fieldset"),W=p("legend"),W.textContent=z,M=y(),H=p("div");for(let D=0;D<X.length;D+=1)X[D].c();de=y(),G=p("fieldset"),re=p("legend"),re.textContent=Z,ie=y(),j=p("div");for(let D=0;D<ce.length;D+=1)ce[D].c();k=y(),$.c(),q=y(),E=p("div"),U=p("button"),he=se(Ce),me=y(),P&&P.c(),this.h()},l(D){e=b(D,"FORM",{class:!0});var ee=v(e);t=b(ee,"DIV",{});var S=v(t);r=b(S,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Q(r)!=="svelte-solin7"&&(r.textContent=a),s=m(S),o=b(S,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),S.forEach(c),u=m(ee),g=b(ee,"DIV",{});var we=v(g);f=b(we,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Q(f)!=="svelte-1afwjfk"&&(f.textContent=d),h=m(we),_=b(we,"TEXTAREA",{id:!0,placeholder:!0,rows:!0,class:!0}),v(_).forEach(c),we.forEach(c),L=m(ee),N=b(ee,"DIV",{class:!0});var Oe=v(N);V=b(Oe,"DIV",{});var Ae=v(V);w=b(Ae,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Q(w)!=="svelte-17sbd8t"&&(w.textContent=B),A=m(Ae),x=b(Ae,"INPUT",{id:!0,type:!0,class:!0}),Ae.forEach(c),te=m(Oe),T=b(Oe,"DIV",{});var ue=v(T);I=b(ue,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Q(I)!=="svelte-1pf1ue3"&&(I.textContent=le),be=m(ue),J=b(ue,"INPUT",{id:!0,type:!0,class:!0}),ue.forEach(c),Oe.forEach(c),Y=m(ee),O=b(ee,"FIELDSET",{});var ge=v(O);W=b(ge,"LEGEND",{class:!0,"data-svelte-h":!0}),Q(W)!=="svelte-51wgqv"&&(W.textContent=z),M=m(ge),H=b(ge,"DIV",{class:!0,role:!0,"aria-label":!0});var Fe=v(H);for(let Be=0;Be<X.length;Be+=1)X[Be].l(Fe);Fe.forEach(c),ge.forEach(c),de=m(ee),G=b(ee,"FIELDSET",{});var ke=v(G);re=b(ke,"LEGEND",{class:!0,"data-svelte-h":!0}),Q(re)!=="svelte-zcn1ho"&&(re.textContent=Z),ie=m(ke),j=b(ke,"DIV",{class:!0,role:!0,"aria-label":!0});var De=v(j);for(let Be=0;Be<ce.length;Be+=1)ce[Be].l(De);k=m(De),$.l(De),De.forEach(c),ke.forEach(c),q=m(ee),E=b(ee,"DIV",{class:!0});var Ke=v(E);U=b(Ke,"BUTTON",{type:!0,class:!0});var ze=v(U);he=ae(ze,Ce),ze.forEach(c),me=m(Ke),P&&P.l(Ke),Ke.forEach(c),ee.forEach(c),this.h()},h(){n(r,"for","title"),n(r,"class","block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"),n(o,"id","title"),n(o,"type","text"),n(o,"placeholder","What needs to be done?"),o.required=!0,n(o,"class","w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"),n(f,"for","notes"),n(f,"class","block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"),n(_,"id","notes"),n(_,"placeholder","Add details..."),n(_,"rows","3"),n(_,"class","w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"),n(w,"for","due_date"),n(w,"class","block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"),n(x,"id","due_date"),n(x,"type","date"),n(x,"class","w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"),n(I,"for","due_time"),n(I,"class","block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"),n(J,"id","due_time"),n(J,"type","time"),n(J,"class","w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"),n(N,"class","grid grid-cols-2 gap-4"),n(W,"class","block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"),n(H,"class","flex gap-2"),n(H,"role","group"),n(H,"aria-label","Task priority"),n(re,"class","block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"),n(j,"class","flex flex-wrap gap-2"),n(j,"role","group"),n(j,"aria-label","Task tags"),n(U,"type","submit"),n(U,"class","flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors font-medium"),n(E,"class","flex gap-3 pt-2"),n(e,"class","bg-white dark:bg-gray-800 rounded-lg p-4 shadow space-y-4")},m(D,ee){K(D,e,ee),i(e,t),i(t,r),i(t,s),i(t,o),Ve(o,l[1]),i(e,u),i(e,g),i(g,f),i(g,h),i(g,_),Ve(_,l[2]),i(e,L),i(e,N),i(N,V),i(V,w),i(V,A),i(V,x),Ve(x,l[3]),i(N,te),i(N,T),i(T,I),i(T,be),i(T,J),Ve(J,l[4]),i(e,Y),i(e,O),i(O,W),i(O,M),i(O,H);for(let S=0;S<X.length;S+=1)X[S]&&X[S].m(H,null);i(e,de),i(e,G),i(G,re),i(G,ie),i(G,j);for(let S=0;S<ce.length;S+=1)ce[S]&&ce[S].m(j,null);i(j,k),$.m(j,null),i(e,q),i(e,E),i(E,U),i(U,he),i(E,me),P&&P.m(E,null),ye=!0,je||(fe=[F(o,"input",l[16]),F(_,"input",l[17]),F(x,"input",l[18]),F(J,"input",l[19]),F(e,"submit",Lr(l[11]))],je=!0)},p(D,ee){if(ee[0]&2&&o.value!==D[1]&&Ve(o,D[1]),ee[0]&4&&Ve(_,D[2]),ee[0]&8&&Ve(x,D[3]),ee[0]&16&&Ve(J,D[4]),ee[0]&32){ne=Se(Object.values(ft).filter(Jt));let S;for(S=0;S<ne.length;S+=1){const we=Xt(D,ne,S);X[S]?X[S].p(we,ee):(X[S]=Yt(we),X[S].c(),X[S].m(H,null))}for(;S<X.length;S+=1)X[S].d(1);X.length=ne.length}if(ee[0]&9280){He=Se(D[10]);let S;for(S=0;S<He.length;S+=1){const we=Gt(D,He,S);ce[S]?ce[S].p(we,ee):(ce[S]=Wt(we),ce[S].c(),ce[S].m(j,k))}for(;S<ce.length;S+=1)ce[S].d(1);ce.length=He.length}R===(R=Te(D))&&$?$.p(D,ee):($.d(1),$=R(D),$&&($.c(),$.m(j,null))),(!ye||ee[0]&1)&&Ce!==(Ce=D[0]?"Update Task":"Create Task")&&ve(he,Ce),D[0]?P?P.p(D,ee):(P=Qt(D),P.c(),P.m(E,null)):P&&(P.d(1),P=null)},i(D){ye||(D&&nt(()=>{ye&&(pe||(pe=qe(e,Nt,{y:-20,duration:300,easing:Mt},!0)),pe.run(1))}),ye=!0)},o(D){D&&(pe||(pe=qe(e,Nt,{y:-20,duration:300,easing:Mt},!1)),pe.run(0)),ye=!1},d(D){D&&c(e),$e(X,D),$e(ce,D),$.d(),P&&P.d(),D&&pe&&pe.end(),je=!1,it(fe)}}}const Jt=l=>typeof l=="number";function el(l,e,t){let r;Pe(l,st,M=>t(10,r=M));let{task:a=null}=e,{isEditing:s=!1}=e;const o=Bt();let u=(a==null?void 0:a.title)||"",g=(a==null?void 0:a.notes)||"",f=(a==null?void 0:a.due_date)||"",d=(a==null?void 0:a.due_time)||"",h=(a==null?void 0:a.priority)||ft.None,_=(a==null?void 0:a.tags)||[],L=!1,N="",V=!1;function w(){u.trim()&&(o("submit",{title:u.trim(),notes:g.trim()||null,due_date:f||null,due_time:d||null,priority:h,tags:_}),s||(t(1,u=""),t(2,g=""),t(3,f=""),t(4,d=""),t(5,h=ft.None),t(6,_=[])))}function B(){o("cancel")}function A(M){_.includes(M)?t(6,_=_.filter(H=>H!==M)):t(6,_=[..._,M])}async function x(){const M=N.trim();if(M){if(r.some(H=>H.name.toLowerCase()===M.toLowerCase())){t(6,_=[..._,M]),t(8,N=""),t(7,L=!1);return}t(9,V=!0);try{const H=await Cr.createTag({name:M,color:"#3b82f6"});st.update(de=>[...de,H]),await Er(H),t(6,_=[..._,H.name]),t(8,N=""),t(7,L=!1)}catch(H){console.error("Failed to create tag:",H)}finally{t(9,V=!1)}}}function te(){u=this.value,t(1,u)}function T(){g=this.value,t(2,g)}function I(){f=this.value,t(3,f)}function le(){d=this.value,t(4,d)}const be=M=>t(5,h=M),J=M=>A(M.name);function Y(){N=this.value,t(8,N)}const O=M=>{M.key==="Enter"?(M.preventDefault(),x()):M.key==="Escape"&&(t(7,L=!1),t(8,N=""))},W=()=>{t(7,L=!1),t(8,N="")},z=()=>t(7,L=!0);return l.$$set=M=>{"task"in M&&t(15,a=M.task),"isEditing"in M&&t(0,s=M.isEditing)},[s,u,g,f,d,h,_,L,N,V,r,w,B,A,x,a,te,T,I,le,be,J,Y,O,W,z]}class Dr extends gt{constructor(e){super(),bt(this,e,el,$r,ht,{task:15,isEditing:0},null,[-1,-1])}}function Zt(l,e,t){const r=l.slice();r[16]=e[t];const a=r[5].find(function(...o){return l[11](r[16],...o)});return r[17]=a,r}function $t(l){let e,t='<svg class="w-6 h-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>',r,a;return{c(){e=p("div"),e.innerHTML=t,this.h()},l(s){e=b(s,"DIV",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-rin8ws"&&(e.innerHTML=t),this.h()},h(){n(e,"class","absolute inset-0 bg-green-500 flex items-center justify-start px-4")},m(s,o){K(s,e,o),a=!0},i(s){a||(s&&nt(()=>{a&&(r||(r=qe(e,ot,{duration:150},!0)),r.run(1))}),a=!0)},o(s){s&&(r||(r=qe(e,ot,{duration:150},!1)),r.run(0)),a=!1},d(s){s&&c(e),s&&r&&r.end()}}}function er(l){let e,t='<svg class="w-6 h-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>',r,a;return{c(){e=p("div"),e.innerHTML=t,this.h()},l(s){e=b(s,"DIV",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-otgaw7"&&(e.innerHTML=t),this.h()},h(){n(e,"class","absolute inset-0 bg-red-500 flex items-center justify-end px-4")},m(s,o){K(s,e,o),a=!0},i(s){a||(s&&nt(()=>{a&&(r||(r=qe(e,ot,{duration:150},!0)),r.run(1))}),a=!0)},o(s){s&&(r||(r=qe(e,ot,{duration:150},!1)),r.run(0)),a=!1},d(s){s&&c(e),s&&r&&r.end()}}}function tr(l){let e,t;return{c(){e=Qe("svg"),t=Qe("path"),this.h()},l(r){e=We(r,"svg",{class:!0,fill:!0,viewBox:!0,stroke:!0});var a=v(e);t=We(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),v(t).forEach(c),a.forEach(c),this.h()},h(){n(t,"stroke-linecap","round"),n(t,"stroke-linejoin","round"),n(t,"stroke-width","3"),n(t,"d","M5 13l4 4L19 7"),n(e,"class","w-full h-full text-white"),n(e,"fill","none"),n(e,"viewBox","0 0 24 24"),n(e,"stroke","currentColor")},m(r,a){K(r,e,a),i(e,t)},d(r){r&&c(e)}}}function rr(l){let e,t,r=l[0].priority+"",a,s;return{c(){e=p("span"),t=se("!"),a=se(r),this.h()},l(o){e=b(o,"SPAN",{class:!0});var u=v(e);t=ae(u,"!"),a=ae(u,r),u.forEach(c),this.h()},h(){n(e,"class",s="flex-shrink-0 px-2 py-0.5 text-xs font-semibold rounded "+l[4]+" svelte-efadq")},m(o,u){K(o,e,u),i(e,t),i(e,a)},p(o,u){u&1&&r!==(r=o[0].priority+"")&&ve(a,r),u&16&&s!==(s="flex-shrink-0 px-2 py-0.5 text-xs font-semibold rounded "+o[4]+" svelte-efadq")&&n(e,"class",s)},d(o){o&&c(e)}}}function lr(l){let e,t=l[0].notes+"",r;return{c(){e=p("p"),r=se(t),this.h()},l(a){e=b(a,"P",{class:!0});var s=v(e);r=ae(s,t),s.forEach(c),this.h()},h(){n(e,"class","text-sm text-gray-600 dark:text-gray-400 mt-1 line-clamp-2 svelte-efadq")},m(a,s){K(a,e,s),i(e,r)},p(a,s){s&1&&t!==(t=a[0].notes+"")&&ve(r,t)},d(a){a&&c(e)}}}function ar(l){let e,t,r,a,s=ur(l[0].due_date)+"",o,u,g,f=l[0].due_time&&sr(l);return{c(){e=p("span"),t=Qe("svg"),r=Qe("path"),a=y(),o=se(s),u=y(),f&&f.c(),this.h()},l(d){e=b(d,"SPAN",{class:!0});var h=v(e);t=We(h,"svg",{class:!0,fill:!0,viewBox:!0,stroke:!0});var _=v(t);r=We(_,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),v(r).forEach(c),_.forEach(c),a=m(h),o=ae(h,s),u=m(h),f&&f.l(h),h.forEach(c),this.h()},h(){n(r,"stroke-linecap","round"),n(r,"stroke-linejoin","round"),n(r,"stroke-width","2"),n(r,"d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"),n(t,"class","w-4 h-4"),n(t,"fill","none"),n(t,"viewBox","0 0 24 24"),n(t,"stroke","currentColor"),n(e,"class",g="flex items-center gap-1 "+(l[3]?"text-red-600 dark:text-red-400 font-semibold":"text-gray-500 dark:text-gray-400"))},m(d,h){K(d,e,h),i(e,t),i(t,r),i(e,a),i(e,o),i(e,u),f&&f.m(e,null)},p(d,h){h&1&&s!==(s=ur(d[0].due_date)+"")&&ve(o,s),d[0].due_time?f?f.p(d,h):(f=sr(d),f.c(),f.m(e,null)):f&&(f.d(1),f=null),h&8&&g!==(g="flex items-center gap-1 "+(d[3]?"text-red-600 dark:text-red-400 font-semibold":"text-gray-500 dark:text-gray-400"))&&n(e,"class",g)},d(d){d&&c(e),f&&f.d()}}}function sr(l){let e,t=l[0].due_time.substring(0,5)+"",r;return{c(){e=se("at "),r=se(t)},l(a){e=ae(a,"at "),r=ae(a,t)},m(a,s){K(a,e,s),K(a,r,s)},p(a,s){s&1&&t!==(t=a[0].due_time.substring(0,5)+"")&&ve(r,t)},d(a){a&&(c(e),c(r))}}}function nr(l){let e,t=Se(l[0].tags),r=[];for(let a=0;a<t.length;a+=1)r[a]=or(Zt(l,t,a));return{c(){e=p("div");for(let a=0;a<r.length;a+=1)r[a].c();this.h()},l(a){e=b(a,"DIV",{class:!0});var s=v(e);for(let o=0;o<r.length;o+=1)r[o].l(s);s.forEach(c),this.h()},h(){n(e,"class","flex gap-1 flex-wrap")},m(a,s){K(a,e,s);for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(e,null)},p(a,s){if(s&33){t=Se(a[0].tags);let o;for(o=0;o<t.length;o+=1){const u=Zt(a,t,o);r[o]?r[o].p(u,s):(r[o]=or(u),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=t.length}},d(a){a&&c(e),$e(r,a)}}}function or(l){let e,t=l[16]+"",r,a;return{c(){e=p("span"),r=se(t),a=y(),this.h()},l(s){e=b(s,"SPAN",{class:!0,style:!0});var o=v(e);r=ae(o,t),a=m(o),o.forEach(c),this.h()},h(){var s;n(e,"class","px-2 py-0.5 rounded-full text-xs text-white font-medium"),ct(e,"background-color",((s=l[17])==null?void 0:s.color)||"#3b82f6")},m(s,o){K(s,e,o),i(e,r),i(e,a)},p(s,o){var u;o&1&&t!==(t=s[16]+"")&&ve(r,t),o&33&&ct(e,"background-color",((u=s[17])==null?void 0:u.color)||"#3b82f6")},d(s){s&&c(e)}}}function tl(l){let e,t,r,a,s,o,u,g,f,d,h,_,L=l[0].title+"",N,V,w,B,A,x,te,T,I,le,be='<svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg>',J,Y,O='<svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>',W,z,M,H,de,G=l[2]&&$t(),re=l[1]&&er(),Z=l[0].completed&&tr(),ie=l[0].priority>0&&rr(l),j=l[0].notes&&lr(l),k=l[0].due_date&&ar(l),q=l[0].tags.length>0&&nr(l);return{c(){e=p("div"),G&&G.c(),t=y(),re&&re.c(),r=y(),a=p("div"),s=p("div"),o=p("button"),Z&&Z.c(),f=y(),d=p("div"),h=p("div"),_=p("h3"),N=se(L),w=y(),ie&&ie.c(),B=y(),j&&j.c(),A=y(),x=p("div"),k&&k.c(),te=y(),q&&q.c(),T=y(),I=p("div"),le=p("button"),le.innerHTML=be,J=y(),Y=p("button"),Y.innerHTML=O,this.h()},l(E){e=b(E,"DIV",{class:!0});var U=v(e);G&&G.l(U),t=m(U),re&&re.l(U),r=m(U),a=b(U,"DIV",{class:!0});var Ce=v(a);s=b(Ce,"DIV",{class:!0});var he=v(s);o=b(he,"BUTTON",{class:!0,"aria-label":!0});var me=v(o);Z&&Z.l(me),me.forEach(c),f=m(he),d=b(he,"DIV",{class:!0});var pe=v(d);h=b(pe,"DIV",{class:!0});var ye=v(h);_=b(ye,"H3",{class:!0});var je=v(_);N=ae(je,L),je.forEach(c),w=m(ye),ie&&ie.l(ye),ye.forEach(c),B=m(pe),j&&j.l(pe),A=m(pe),x=b(pe,"DIV",{class:!0});var fe=v(x);k&&k.l(fe),te=m(fe),q&&q.l(fe),fe.forEach(c),pe.forEach(c),T=m(he),I=b(he,"DIV",{class:!0});var ne=v(I);le=b(ne,"BUTTON",{class:!0,"aria-label":!0,"data-svelte-h":!0}),Q(le)!=="svelte-c9rw2k"&&(le.innerHTML=be),J=m(ne),Y=b(ne,"BUTTON",{class:!0,"aria-label":!0,"data-svelte-h":!0}),Q(Y)!=="svelte-1rde570"&&(Y.innerHTML=O),ne.forEach(c),he.forEach(c),Ce.forEach(c),U.forEach(c),this.h()},h(){n(o,"class",u="mt-1 flex-shrink-0 w-6 h-6 border-2 rounded-full "+(l[0].completed?"bg-green-500 border-green-500":"border-gray-300 dark:border-gray-600 hover:border-green-400")+" transition-colors"),n(o,"aria-label",g=l[0].completed?"Mark incomplete":"Mark complete"),n(_,"class",V="flex-1 text-lg font-medium "+(l[0].completed?"line-through text-gray-400 dark:text-gray-500":"text-gray-900 dark:text-white")),n(h,"class","flex items-start gap-2"),n(x,"class","flex items-center gap-4 mt-2 text-sm"),n(d,"class","flex-1 min-w-0"),n(le,"class","p-1 text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors"),n(le,"aria-label","Edit task"),n(Y,"class","p-1 text-gray-400 hover:text-red-600 dark:hover:text-red-400 transition-colors"),n(Y,"aria-label","Delete task"),n(I,"class","flex-shrink-0 flex gap-1"),n(s,"class","flex items-start gap-3"),n(a,"class","relative bg-white dark:bg-gray-800 p-4"),n(e,"class",W="relative bg-white dark:bg-gray-800 rounded-lg shadow hover:shadow-md transition-all overflow-hidden "+(l[3]?"border-l-4 border-red-500":""))},m(E,U){K(E,e,U),G&&G.m(e,null),i(e,t),re&&re.m(e,null),i(e,r),i(e,a),i(a,s),i(s,o),Z&&Z.m(o,null),i(s,f),i(s,d),i(d,h),i(h,_),i(_,N),i(h,w),ie&&ie.m(h,null),i(d,B),j&&j.m(d,null),i(d,A),i(d,x),k&&k.m(x,null),i(x,te),q&&q.m(x,null),i(s,T),i(s,I),i(I,le),i(I,J),i(I,Y),M=!0,H||(de=[F(o,"click",l[10]),F(le,"click",l[12]),F(Y,"click",l[13]),F(e,"touchstart",l[7]),F(e,"touchmove",l[8]),F(e,"touchend",l[9],{passive:!0})],H=!0)},p(E,[U]){E[2]?G?U&4&&_e(G,1):(G=$t(),G.c(),_e(G,1),G.m(e,t)):G&&(Je(),Ee(G,1,1,()=>{G=null}),Ze()),E[1]?re?U&2&&_e(re,1):(re=er(),re.c(),_e(re,1),re.m(e,r)):re&&(Je(),Ee(re,1,1,()=>{re=null}),Ze()),E[0].completed?Z||(Z=tr(),Z.c(),Z.m(o,null)):Z&&(Z.d(1),Z=null),(!M||U&1&&u!==(u="mt-1 flex-shrink-0 w-6 h-6 border-2 rounded-full "+(E[0].completed?"bg-green-500 border-green-500":"border-gray-300 dark:border-gray-600 hover:border-green-400")+" transition-colors"))&&n(o,"class",u),(!M||U&1&&g!==(g=E[0].completed?"Mark incomplete":"Mark complete"))&&n(o,"aria-label",g),(!M||U&1)&&L!==(L=E[0].title+"")&&ve(N,L),(!M||U&1&&V!==(V="flex-1 text-lg font-medium "+(E[0].completed?"line-through text-gray-400 dark:text-gray-500":"text-gray-900 dark:text-white")))&&n(_,"class",V),E[0].priority>0?ie?ie.p(E,U):(ie=rr(E),ie.c(),ie.m(h,null)):ie&&(ie.d(1),ie=null),E[0].notes?j?j.p(E,U):(j=lr(E),j.c(),j.m(d,A)):j&&(j.d(1),j=null),E[0].due_date?k?k.p(E,U):(k=ar(E),k.c(),k.m(x,te)):k&&(k.d(1),k=null),E[0].tags.length>0?q?q.p(E,U):(q=nr(E),q.c(),q.m(x,null)):q&&(q.d(1),q=null),(!M||U&8&&W!==(W="relative bg-white dark:bg-gray-800 rounded-lg shadow hover:shadow-md transition-all overflow-hidden "+(E[3]?"border-l-4 border-red-500":"")))&&n(e,"class",W)},i(E){M||(_e(G),_e(re),E&&nt(()=>{M&&(z||(z=qe(e,Nt,{y:20,duration:300,easing:Mt},!0)),z.run(1))}),M=!0)},o(E){Ee(G),Ee(re),E&&(z||(z=qe(e,Nt,{y:20,duration:300,easing:Mt},!1)),z.run(0)),M=!1},d(E){E&&c(e),G&&G.d(),re&&re.d(),Z&&Z.d(),ie&&ie.d(),j&&j.d(),k&&k.d(),q&&q.d(),E&&z&&z.end(),H=!1,it(de)}}}let ir=80;function ur(l){const e=new Date(l),t=new Date,r=new Date(t);return r.setDate(r.getDate()+1),e.toDateString()===t.toDateString()?"Today":e.toDateString()===r.toDateString()?"Tomorrow":e.toLocaleDateString("en-US",{month:"short",day:"numeric"})}function rl(l){if(!l.due_date||l.completed)return!1;const e=new Date(l.due_date),t=new Date;return t.setHours(0,0,0,0),e<t}function ll(l,e,t){let r,a,s;Pe(l,st,x=>t(5,s=x));let{task:o}=e;const u=Bt();let g=!1,f=!1,d=0,h=0;function _(x){d=x.touches[0].clientX,h=d}function L(x){h=x.touches[0].clientX;const te=h-d;te>10?(t(2,f=!0),t(1,g=!1)):te<-10&&(t(1,g=!0),t(2,f=!1))}function N(){const x=h-d;x>ir&&f?u("toggle",o.id):x<-ir&&g&&confirm("Delete this task?")&&u("delete",o.id),t(1,g=!1),t(2,f=!1),d=0,h=0}const V=()=>u("toggle",o.id),w=(x,te)=>te.name===x,B=()=>u("edit",o.id),A=()=>{confirm("Delete this task?")&&u("delete",o.id)};return l.$$set=x=>{"task"in x&&t(0,o=x.task)},l.$$.update=()=>{l.$$.dirty&1&&t(4,r=Qr[o.priority]||"text-gray-500"),l.$$.dirty&1&&t(3,a=rl(o))},[o,g,f,a,r,s,u,_,L,N,V,w,B,A]}class al extends gt{constructor(e){super(),bt(this,e,ll,tl,ht,{task:0})}}function dr(l,e,t){const r=l.slice();return r[18]=e[t],r}function cr(l,e,t){const r=l.slice();return r[21]=e[t],r}function fr(l){let e,t,r,a,s;function o(){return l[13](l[21])}return{c(){e=p("button"),this.h()},l(u){e=b(u,"BUTTON",{type:!0,class:!0,style:!0,"aria-label":!0,"aria-pressed":!0}),v(e).forEach(c),this.h()},h(){n(e,"type","button"),n(e,"class",t="w-10 h-10 rounded-full border-2 transition-all "+(l[1]===l[21].value?"border-gray-900 dark:border-white scale-110":"border-gray-300 dark:border-gray-600 hover:scale-105")),ct(e,"background-color",l[21].value),n(e,"aria-label",l[21].name+" color"),n(e,"aria-pressed",r=l[1]===l[21].value)},m(u,g){K(u,e,g),a||(s=F(e,"click",o),a=!0)},p(u,g){l=u,g&2&&t!==(t="w-10 h-10 rounded-full border-2 transition-all "+(l[1]===l[21].value?"border-gray-900 dark:border-white scale-110":"border-gray-300 dark:border-gray-600 hover:scale-105"))&&n(e,"class",t),g&2&&r!==(r=l[1]===l[21].value)&&n(e,"aria-pressed",r)},d(u){u&&c(e),a=!1,s()}}}function hr(l){let e,t;return{c(){e=p("p"),t=se(l[3]),this.h()},l(r){e=b(r,"P",{class:!0});var a=v(e);t=ae(a,l[3]),a.forEach(c),this.h()},h(){n(e,"class","text-sm text-red-600 dark:text-red-400")},m(r,a){K(r,e,a),i(e,t)},p(r,a){a&8&&ve(t,r[3])},d(r){r&&c(e)}}}function sl(l){let e,t='<p class="text-gray-500 dark:text-gray-400">No tags yet. Create your first tag!</p>';return{c(){e=p("div"),e.innerHTML=t,this.h()},l(r){e=b(r,"DIV",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-14r7zr9"&&(e.innerHTML=t),this.h()},h(){n(e,"class","text-center py-8")},m(r,a){K(r,e,a)},p:Le,d(r){r&&c(e)}}}function nl(l){let e,t,r="Existing Tags",a,s,o=Se(l[4]),u=[];for(let g=0;g<o.length;g+=1)u[g]=gr(dr(l,o,g));return{c(){e=p("div"),t=p("h3"),t.textContent=r,a=y(),s=p("div");for(let g=0;g<u.length;g+=1)u[g].c();this.h()},l(g){e=b(g,"DIV",{class:!0});var f=v(e);t=b(f,"H3",{class:!0,"data-svelte-h":!0}),Q(t)!=="svelte-ee0vlg"&&(t.textContent=r),a=m(f),s=b(f,"DIV",{class:!0});var d=v(s);for(let h=0;h<u.length;h+=1)u[h].l(d);d.forEach(c),f.forEach(c),this.h()},h(){n(t,"class","text-sm font-medium text-gray-700 dark:text-gray-300"),n(s,"class","space-y-2"),n(e,"class","space-y-2")},m(g,f){K(g,e,f),i(e,t),i(e,a),i(e,s);for(let d=0;d<u.length;d+=1)u[d]&&u[d].m(s,null)},p(g,f){if(f&144){o=Se(g[4]);let d;for(d=0;d<o.length;d+=1){const h=dr(g,o,d);u[d]?u[d].p(h,f):(u[d]=gr(h),u[d].c(),u[d].m(s,null))}for(;d<u.length;d+=1)u[d].d(1);u.length=o.length}},d(g){g&&c(e),$e(u,g)}}}function gr(l){let e,t,r,a,s,o=l[18].name+"",u,g,f,d='<svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>',h,_,L;function N(){return l[15](l[18])}return{c(){e=p("div"),t=p("div"),r=p("div"),a=y(),s=p("span"),u=se(o),g=y(),f=p("button"),f.innerHTML=d,h=y(),this.h()},l(V){e=b(V,"DIV",{class:!0});var w=v(e);t=b(w,"DIV",{class:!0});var B=v(t);r=b(B,"DIV",{class:!0,style:!0}),v(r).forEach(c),a=m(B),s=b(B,"SPAN",{class:!0});var A=v(s);u=ae(A,o),A.forEach(c),B.forEach(c),g=m(w),f=b(w,"BUTTON",{class:!0,"aria-label":!0,title:!0,"data-svelte-h":!0}),Q(f)!=="svelte-1wej1iy"&&(f.innerHTML=d),h=m(w),w.forEach(c),this.h()},h(){n(r,"class","w-6 h-6 rounded-full"),ct(r,"background-color",l[18].color||"#3b82f6"),n(s,"class","text-gray-900 dark:text-white font-medium"),n(t,"class","flex items-center gap-3"),n(f,"class","p-1 text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 transition-colors"),n(f,"aria-label","Delete tag"),n(f,"title","Delete tag"),n(e,"class","flex items-center justify-between p-3 rounded-lg bg-gray-50 dark:bg-gray-700")},m(V,w){K(V,e,w),i(e,t),i(t,r),i(t,a),i(t,s),i(s,u),i(e,g),i(e,f),i(e,h),_||(L=F(f,"click",N),_=!0)},p(V,w){l=V,w&16&&ct(r,"background-color",l[18].color||"#3b82f6"),w&16&&o!==(o=l[18].name+"")&&ve(u,o)},d(V){V&&c(e),_=!1,L()}}}function ol(l){let e,t,r,a,s="Manage Tags",o,u,g='<svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>',f,d,h,_,L="Create New Tag",N,V,w,B="Tag name",A,x,te,T,I,le="Color",be,J,Y,O,W,z="Custom color picker",M,H,de,G,re="Custom color",Z,ie,j,k=l[2]?"Creating...":"Create Tag",q,E,U,Ce,he,me,pe="Done",ye,je,fe=Se(l[5]),ne=[];for(let R=0;R<fe.length;R+=1)ne[R]=fr(cr(l,fe,R));let X=l[3]&&hr(l);function He(R,$){return R[4].length>0?nl:sl}let ce=He(l),Te=ce(l);return{c(){e=p("div"),t=p("div"),r=p("div"),a=p("h2"),a.textContent=s,o=y(),u=p("button"),u.innerHTML=g,f=y(),d=p("div"),h=p("div"),_=p("h3"),_.textContent=L,N=y(),V=p("div"),w=p("label"),w.textContent=B,A=y(),x=p("input"),te=y(),T=p("fieldset"),I=p("legend"),I.textContent=le,be=y(),J=p("div");for(let R=0;R<ne.length;R+=1)ne[R].c();Y=y(),O=p("div"),W=p("label"),W.textContent=z,M=y(),H=p("input"),de=y(),G=p("span"),G.textContent=re,Z=y(),X&&X.c(),ie=y(),j=p("button"),q=se(k),U=y(),Te.c(),Ce=y(),he=p("div"),me=p("button"),me.textContent=pe,this.h()},l(R){e=b(R,"DIV",{class:!0,role:!0});var $=v(e);t=b($,"DIV",{class:!0,role:!0,"aria-modal":!0,"aria-labelledby":!0});var P=v(t);r=b(P,"DIV",{class:!0});var D=v(r);a=b(D,"H2",{id:!0,class:!0,"data-svelte-h":!0}),Q(a)!=="svelte-ihhsqt"&&(a.textContent=s),o=m(D),u=b(D,"BUTTON",{class:!0,"aria-label":!0,"data-svelte-h":!0}),Q(u)!=="svelte-1f1ajxa"&&(u.innerHTML=g),D.forEach(c),f=m(P),d=b(P,"DIV",{class:!0});var ee=v(d);h=b(ee,"DIV",{class:!0});var S=v(h);_=b(S,"H3",{class:!0,"data-svelte-h":!0}),Q(_)!=="svelte-8u2i8q"&&(_.textContent=L),N=m(S),V=b(S,"DIV",{});var we=v(V);w=b(we,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Q(w)!=="svelte-1fq8qq5"&&(w.textContent=B),A=m(we),x=b(we,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),we.forEach(c),te=m(S),T=b(S,"FIELDSET",{});var Oe=v(T);I=b(Oe,"LEGEND",{class:!0,"data-svelte-h":!0}),Q(I)!=="svelte-65xjzu"&&(I.textContent=le),be=m(Oe),J=b(Oe,"DIV",{class:!0,role:!0,"aria-label":!0});var Ae=v(J);for(let ke=0;ke<ne.length;ke+=1)ne[ke].l(Ae);Ae.forEach(c),Oe.forEach(c),Y=m(S),O=b(S,"DIV",{class:!0});var ue=v(O);W=b(ue,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Q(W)!=="svelte-11850u5"&&(W.textContent=z),M=m(ue),H=b(ue,"INPUT",{id:!0,type:!0,class:!0,"aria-label":!0}),de=m(ue),G=b(ue,"SPAN",{class:!0,"data-svelte-h":!0}),Q(G)!=="svelte-aaf9sr"&&(G.textContent=re),ue.forEach(c),Z=m(S),X&&X.l(S),ie=m(S),j=b(S,"BUTTON",{class:!0});var ge=v(j);q=ae(ge,k),ge.forEach(c),S.forEach(c),U=m(ee),Te.l(ee),ee.forEach(c),Ce=m(P),he=b(P,"DIV",{class:!0});var Fe=v(he);me=b(Fe,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(me)!=="svelte-d5u0jv"&&(me.textContent=pe),Fe.forEach(c),P.forEach(c),$.forEach(c),this.h()},h(){n(a,"id","tag-manager-title"),n(a,"class","text-xl font-bold text-gray-900 dark:text-white"),n(u,"class","p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors"),n(u,"aria-label","Close"),n(r,"class","flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700"),n(_,"class","text-sm font-medium text-gray-700 dark:text-gray-300"),n(w,"for","tag-name-input"),n(w,"class","sr-only"),n(x,"id","tag-name-input"),n(x,"type","text"),n(x,"placeholder","Tag name"),n(x,"class","w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"),n(I,"class","block text-xs text-gray-600 dark:text-gray-400 mb-2"),n(J,"class","flex flex-wrap gap-2"),n(J,"role","group"),n(J,"aria-label","Tag color picker"),n(W,"for","custom-color-input"),n(W,"class","sr-only"),n(H,"id","custom-color-input"),n(H,"type","color"),n(H,"class","w-12 h-10 rounded cursor-pointer"),n(H,"aria-label","Custom color picker"),n(G,"class","text-xs text-gray-500 dark:text-gray-400"),n(O,"class","flex items-center gap-2"),j.disabled=E=l[2]||!l[0].trim(),n(j,"class","w-full px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed"),n(h,"class","space-y-3"),n(d,"class","flex-1 overflow-y-auto p-4 space-y-6"),n(me,"class","w-full px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors font-medium"),n(he,"class","p-4 border-t border-gray-200 dark:border-gray-700"),n(t,"class","bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full max-h-[80vh] overflow-hidden flex flex-col"),n(t,"role","dialog"),n(t,"aria-modal","true"),n(t,"aria-labelledby","tag-manager-title"),n(e,"class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"),n(e,"role","presentation")},m(R,$){K(R,e,$),i(e,t),i(t,r),i(r,a),i(r,o),i(r,u),i(t,f),i(t,d),i(d,h),i(h,_),i(h,N),i(h,V),i(V,w),i(V,A),i(V,x),Ve(x,l[0]),i(h,te),i(h,T),i(T,I),i(T,be),i(T,J);for(let P=0;P<ne.length;P+=1)ne[P]&&ne[P].m(J,null);i(h,Y),i(h,O),i(O,W),i(O,M),i(O,H),Ve(H,l[1]),i(O,de),i(O,G),i(h,Z),X&&X.m(h,null),i(h,ie),i(h,j),i(j,q),i(d,U),Te.m(d,null),i(t,Ce),i(t,he),i(he,me),ye||(je=[F(u,"click",l[8]),F(x,"input",l[11]),F(x,"keydown",l[12]),F(H,"input",l[14]),F(j,"click",l[6]),F(me,"click",l[8]),F(t,"click",Dt(l[9])),F(t,"keydown",Dt(l[10])),F(e,"click",l[8]),F(e,"keydown",l[16])],ye=!0)},p(R,[$]){if($&1&&x.value!==R[0]&&Ve(x,R[0]),$&34){fe=Se(R[5]);let P;for(P=0;P<fe.length;P+=1){const D=cr(R,fe,P);ne[P]?ne[P].p(D,$):(ne[P]=fr(D),ne[P].c(),ne[P].m(J,null))}for(;P<ne.length;P+=1)ne[P].d(1);ne.length=fe.length}$&2&&Ve(H,R[1]),R[3]?X?X.p(R,$):(X=hr(R),X.c(),X.m(h,ie)):X&&(X.d(1),X=null),$&4&&k!==(k=R[2]?"Creating...":"Create Tag")&&ve(q,k),$&5&&E!==(E=R[2]||!R[0].trim())&&(j.disabled=E),ce===(ce=He(R))&&Te?Te.p(R,$):(Te.d(1),Te=ce(R),Te&&(Te.c(),Te.m(d,null)))},i:Le,o:Le,d(R){R&&c(e),$e(ne,R),X&&X.d(),Te.d(),ye=!1,it(je)}}}function il(l,e,t){let r;Pe(l,st,T=>t(4,r=T));const a=Bt();let s="",o="#3b82f6",u=!1,g="";const f=[{name:"Blue",value:"#3b82f6"},{name:"Red",value:"#ef4444"},{name:"Green",value:"#10b981"},{name:"Yellow",value:"#f59e0b"},{name:"Purple",value:"#8b5cf6"},{name:"Pink",value:"#ec4899"},{name:"Indigo",value:"#6366f1"},{name:"Teal",value:"#14b8a6"},{name:"Orange",value:"#f97316"},{name:"Gray",value:"#6b7280"}];async function d(){const T=s.trim();if(!T){t(3,g="Tag name is required");return}if(r.some(I=>I.name.toLowerCase()===T.toLowerCase())){t(3,g="Tag already exists");return}t(2,u=!0),t(3,g="");try{const I=await Cr.createTag({name:T,color:o});st.update(le=>[...le,I]),await Er(I),a("tagCreated",I.name),t(0,s=""),t(1,o="#3b82f6")}catch(I){console.error("Failed to create tag:",I),t(3,g=I instanceof Error?I.message:"Failed to create tag")}finally{t(2,u=!1)}}async function h(T){if(confirm(`Delete tag "${T}"? This will remove it from all tasks.`))try{st.update(I=>I.filter(le=>le.name!==T)),await Sr(T)}catch(I){console.error("Failed to delete tag:",I),t(3,g=I instanceof Error?I.message:"Failed to delete tag")}}function _(){a("close")}function L(T){Lt.call(this,l,T)}function N(T){Lt.call(this,l,T)}function V(){s=this.value,t(0,s)}const w=T=>T.key==="Enter"&&d(),B=T=>t(1,o=T.value);function A(){o=this.value,t(1,o)}return[s,o,u,g,r,f,d,h,_,L,N,V,w,B,A,T=>h(T.name),T=>T.key==="Escape"&&_()]}class ul extends gt{constructor(e){super(),bt(this,e,il,ol,ht,{})}}const ut=Wr(!1);let dt=[];function Ue(l){return dt.push(l),()=>{dt=dt.filter(e=>e!==l)}}function dl(){return[...dt]}function cl(l,e){return!(l.key.toLowerCase()!==e.key.toLowerCase()||e.ctrl&&!l.ctrlKey||e.shift&&!l.shiftKey||e.alt&&!l.altKey||e.meta&&!l.metaKey||!e.ctrl&&l.ctrlKey||!e.alt&&l.altKey||!e.meta&&l.metaKey)}function fl(l){const e=l.target;if((e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)&&l.key!=="Escape"&&!l.ctrlKey&&!l.metaKey)return!1;for(const t of dt)if(cl(l,t))return l.preventDefault(),t.action(),!0;return!1}function br(l){const e=[],t=typeof navigator<"u"&&/Mac/.test(navigator.platform);l.ctrl&&e.push(t?"âŒƒ":"Ctrl"),l.alt&&e.push(t?"âŒ¥":"Alt"),l.shift&&e.push(t?"â‡§":"Shift"),l.meta&&e.push(t?"âŒ˜":"Win");let r=l.key;return r===" "?r="Space":r.length===1&&(r=r.toUpperCase()),e.push(r),e.join(t?"":"+")}function hl(){const l=e=>{fl(e)};return window.addEventListener("keydown",l),()=>{window.removeEventListener("keydown",l)}}function pr(l,e,t){const r=l.slice();return r[7]=e[t][0],r[8]=e[t][1],r}function _r(l,e,t){const r=l.slice();return r[11]=e[t],r}function vr(l){let e,t,r,a,s='<h2 id="keyboard-help-title" class="text-2xl font-bold text-gray-900 dark:text-white">Keyboard Shortcuts</h2> <p class="text-sm text-gray-500 dark:text-gray-400 mt-1">Speed up your workflow with these shortcuts</p>',o,u,g='<svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>',f,d,h,_,L,N=`<div class="flex items-start gap-3"><svg class="w-5 h-5 text-blue-500 dark:text-blue-400 flex-shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <div class="text-sm text-blue-800 dark:text-blue-200"><p class="font-medium mb-1">Pro Tips:</p> <ul class="list-disc list-inside space-y-1 text-blue-700 dark:text-blue-300"><li>Press <kbd class="px-1.5 py-0.5 bg-blue-100 dark:bg-blue-800 rounded">?</kbd> anytime
                  to view this help</li> <li>Press <kbd class="px-1.5 py-0.5 bg-blue-100 dark:bg-blue-800 rounded">Esc</kbd> to
                  close modals</li> <li>Keyboard shortcuts work even when offline</li></ul></div></div>`,V,w,B,A="Got it!",x,te,T,I,le;function be(O,W){return W&1&&(h=null),h==null&&(h=Object.keys(O[0]).length===0),h?bl:gl}let J=be(l,-1),Y=J(l);return{c(){e=p("div"),t=p("div"),r=p("div"),a=p("div"),a.innerHTML=s,o=y(),u=p("button"),u.innerHTML=g,f=y(),d=p("div"),Y.c(),_=y(),L=p("div"),L.innerHTML=N,V=y(),w=p("div"),B=p("button"),B.textContent=A,this.h()},l(O){e=b(O,"DIV",{class:!0,role:!0});var W=v(e);t=b(W,"DIV",{class:!0,role:!0,"aria-modal":!0,"aria-labelledby":!0});var z=v(t);r=b(z,"DIV",{class:!0});var M=v(r);a=b(M,"DIV",{"data-svelte-h":!0}),Q(a)!=="svelte-1dxcbpt"&&(a.innerHTML=s),o=m(M),u=b(M,"BUTTON",{class:!0,"aria-label":!0,"data-svelte-h":!0}),Q(u)!=="svelte-19r4syi"&&(u.innerHTML=g),M.forEach(c),f=m(z),d=b(z,"DIV",{class:!0});var H=v(d);Y.l(H),_=m(H),L=b(H,"DIV",{class:!0,"data-svelte-h":!0}),Q(L)!=="svelte-reygrt"&&(L.innerHTML=N),H.forEach(c),V=m(z),w=b(z,"DIV",{class:!0});var de=v(w);B=b(de,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(B)!=="svelte-toq7pf"&&(B.textContent=A),de.forEach(c),z.forEach(c),W.forEach(c),this.h()},h(){n(u,"class","p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700"),n(u,"aria-label","Close"),n(r,"class","flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700"),n(L,"class","mt-8 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg"),n(d,"class","p-6 overflow-y-auto max-h-[calc(80vh-120px)]"),n(B,"class","w-full px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors font-medium"),n(w,"class","p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900"),n(t,"class","bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[80vh] overflow-hidden"),n(t,"role","dialog"),n(t,"aria-modal","true"),n(t,"aria-labelledby","keyboard-help-title"),n(e,"class","fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4"),n(e,"role","presentation")},m(O,W){K(O,e,W),i(e,t),i(t,r),i(r,a),i(r,o),i(r,u),i(t,f),i(t,d),Y.m(d,null),i(d,_),i(d,L),i(t,V),i(t,w),i(w,B),T=!0,I||(le=[F(u,"click",l[2]),F(B,"click",l[2]),F(t,"click",Dt(l[4])),F(t,"keydown",Dt(l[5])),F(e,"click",l[2]),F(e,"keydown",l[6])],I=!0)},p(O,W){J===(J=be(O,W))&&Y?Y.p(O,W):(Y.d(1),Y=J(O),Y&&(Y.c(),Y.m(d,_)))},i(O){T||(O&&nt(()=>{T&&(x||(x=qe(t,zt,{duration:200,start:.95},!0)),x.run(1))}),O&&nt(()=>{T&&(te||(te=qe(e,ot,{duration:200},!0)),te.run(1))}),T=!0)},o(O){O&&(x||(x=qe(t,zt,{duration:200,start:.95},!1)),x.run(0)),O&&(te||(te=qe(e,ot,{duration:200},!1)),te.run(0)),T=!1},d(O){O&&c(e),Y.d(),O&&x&&x.end(),O&&te&&te.end(),I=!1,it(le)}}}function gl(l){let e,t=Se(Object.entries(l[0])),r=[];for(let a=0;a<t.length;a+=1)r[a]=mr(pr(l,t,a));return{c(){e=p("div");for(let a=0;a<r.length;a+=1)r[a].c();this.h()},l(a){e=b(a,"DIV",{class:!0});var s=v(e);for(let o=0;o<r.length;o+=1)r[o].l(s);s.forEach(c),this.h()},h(){n(e,"class","space-y-6")},m(a,s){K(a,e,s);for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(e,null)},p(a,s){if(s&1){t=Se(Object.entries(a[0]));let o;for(o=0;o<t.length;o+=1){const u=pr(a,t,o);r[o]?r[o].p(u,s):(r[o]=mr(u),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=t.length}},d(a){a&&c(e),$e(r,a)}}}function bl(l){let e,t="No keyboard shortcuts registered";return{c(){e=p("p"),e.textContent=t,this.h()},l(r){e=b(r,"P",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-uij6yu"&&(e.textContent=t),this.h()},h(){n(e,"class","text-gray-500 dark:text-gray-400 text-center py-8")},m(r,a){K(r,e,a)},p:Le,d(r){r&&c(e)}}}function kr(l){let e,t,r=l[11].description+"",a,s,o,u=br(l[11])+"",g,f;return{c(){e=p("div"),t=p("span"),a=se(r),s=y(),o=p("kbd"),g=se(u),f=y(),this.h()},l(d){e=b(d,"DIV",{class:!0});var h=v(e);t=b(h,"SPAN",{class:!0});var _=v(t);a=ae(_,r),_.forEach(c),s=m(h),o=b(h,"KBD",{class:!0});var L=v(o);g=ae(L,u),L.forEach(c),f=m(h),h.forEach(c),this.h()},h(){n(t,"class","text-gray-700 dark:text-gray-300"),n(o,"class","px-3 py-1.5 text-sm font-semibold text-gray-800 dark:text-gray-200 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm"),n(e,"class","flex items-center justify-between py-2 px-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors")},m(d,h){K(d,e,h),i(e,t),i(t,a),i(e,s),i(e,o),i(o,g),i(e,f)},p(d,h){h&1&&r!==(r=d[11].description+"")&&ve(a,r),h&1&&u!==(u=br(d[11])+"")&&ve(g,u)},d(d){d&&c(e)}}}function mr(l){let e,t,r=l[7]+"",a,s,o,u,g=Se(l[8]),f=[];for(let d=0;d<g.length;d+=1)f[d]=kr(_r(l,g,d));return{c(){e=p("div"),t=p("h3"),a=se(r),s=y(),o=p("div");for(let d=0;d<f.length;d+=1)f[d].c();u=y(),this.h()},l(d){e=b(d,"DIV",{});var h=v(e);t=b(h,"H3",{class:!0});var _=v(t);a=ae(_,r),_.forEach(c),s=m(h),o=b(h,"DIV",{class:!0});var L=v(o);for(let N=0;N<f.length;N+=1)f[N].l(L);L.forEach(c),u=m(h),h.forEach(c),this.h()},h(){n(t,"class","text-lg font-semibold text-gray-900 dark:text-white mb-3"),n(o,"class","space-y-2")},m(d,h){K(d,e,h),i(e,t),i(t,a),i(e,s),i(e,o);for(let _=0;_<f.length;_+=1)f[_]&&f[_].m(o,null);i(e,u)},p(d,h){if(h&1&&r!==(r=d[7]+"")&&ve(a,r),h&1){g=Se(d[8]);let _;for(_=0;_<g.length;_+=1){const L=_r(d,g,_);f[_]?f[_].p(L,h):(f[_]=kr(L),f[_].c(),f[_].m(o,null))}for(;_<f.length;_+=1)f[_].d(1);f.length=g.length}},d(d){d&&c(e),$e(f,d)}}}function pl(l){let e,t=l[1]&&vr(l);return{c(){t&&t.c(),e=It()},l(r){t&&t.l(r),e=It()},m(r,a){t&&t.m(r,a),K(r,e,a)},p(r,[a]){r[1]?t?(t.p(r,a),a&2&&_e(t,1)):(t=vr(r),t.c(),_e(t,1),t.m(e.parentNode,e)):t&&(Je(),Ee(t,1,1,()=>{t=null}),Ze())},i(r){_e(t)},o(r){Ee(t)},d(r){r&&c(e),t&&t.d(r)}}}function _l(l,e,t){let r,a,s;Pe(l,ut,d=>t(1,s=d));function o(){ut.set(!1)}function u(d){Lt.call(this,l,d)}function g(d){Lt.call(this,l,d)}const f=d=>d.key==="Escape"&&o();return l.$$.update=()=>{l.$$.dirty&8&&t(0,a=r.reduce((d,h)=>{const _=h.description.includes("task")?"Tasks":h.description.includes("search")||h.description.includes("sync")?"Navigation":"General";return d[_]||(d[_]=[]),d[_].push(h),d},{}))},t(3,r=dl()),[a,s,o,r,u,g,f]}class vl extends gt{constructor(e){super(),bt(this,e,_l,pl,ht,{})}}function yr(l,e,t){const r=l.slice();return r[35]=e[t],r}function kl(l){let e,t,r;return{c(){e=p("p"),t=se("Last synced: "),r=se(l[11]),this.h()},l(a){e=b(a,"P",{class:!0});var s=v(e);t=ae(s,"Last synced: "),r=ae(s,l[11]),s.forEach(c),this.h()},h(){n(e,"class","text-xs text-gray-500 dark:text-gray-400")},m(a,s){K(a,e,s),i(e,t),i(e,r)},p(a,s){s[0]&2048&&ve(r,a[11])},d(a){a&&c(e)}}}function ml(l){let e,t,r;return{c(){e=p("div"),t=p("p"),r=se(l[15]),this.h()},l(a){e=b(a,"DIV",{class:!0});var s=v(e);t=b(s,"P",{class:!0});var o=v(t);r=ae(o,l[15]),o.forEach(c),s.forEach(c),this.h()},h(){n(t,"class","text-sm text-red-800 dark:text-red-200"),n(e,"class","mb-4 p-3 bg-red-50 dark:bg-red-900 border border-red-200 dark:border-red-700 rounded-lg")},m(a,s){K(a,e,s),i(e,t),i(t,r)},p(a,s){s[0]&32768&&ve(r,a[15])},d(a){a&&c(e)}}}function wr(l){let e,t="+ New Task",r,a;return{c(){e=p("button"),e.textContent=t,this.h()},l(s){e=b(s,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-1xaxsj1"&&(e.textContent=t),this.h()},h(){n(e,"class","w-full py-3 bg-blue-500 hover:bg-blue-600 active:scale-95 text-white rounded-lg font-medium transition-all shadow-lg hover:shadow-xl")},m(s,o){K(s,e,o),r||(a=F(e,"click",l[28]),r=!0)},p:Le,d(s){s&&c(e),r=!1,a()}}}function yl(l){let e,t;return e=new Dr({props:{task:l[7],isEditing:!0}}),e.$on("submit",l[17]),e.$on("cancel",l[30]),{c(){kt(e.$$.fragment)},l(r){vt(e.$$.fragment,r)},m(r,a){_t(e,r,a),t=!0},p(r,a){const s={};a[0]&128&&(s.task=r[7]),e.$set(s)},i(r){t||(_e(e.$$.fragment,r),t=!0)},o(r){Ee(e.$$.fragment,r),t=!1},d(r){pt(e,r)}}}function wl(l){let e,t;return e=new Dr({}),e.$on("submit",l[16]),e.$on("cancel",l[29]),{c(){kt(e.$$.fragment)},l(r){vt(e.$$.fragment,r)},m(r,a){_t(e,r,a),t=!0},p:Le,i(r){t||(_e(e.$$.fragment,r),t=!0)},o(r){Ee(e.$$.fragment,r),t=!1},d(r){pt(e,r)}}}function xl(l){let e,t=[],r=new Map,a,s=Se(l[12]);const o=u=>u[35].id;for(let u=0;u<s.length;u+=1){let g=yr(l,s,u),f=o(g);r.set(f,t[u]=xr(f,g))}return{c(){e=p("div");for(let u=0;u<t.length;u+=1)t[u].c();this.h()},l(u){e=b(u,"DIV",{class:!0});var g=v(e);for(let f=0;f<t.length;f+=1)t[f].l(g);g.forEach(c),this.h()},h(){n(e,"class","space-y-2")},m(u,g){K(u,e,g);for(let f=0;f<t.length;f+=1)t[f]&&t[f].m(e,null);a=!0},p(u,g){g[0]&1839104&&(s=Se(u[12]),Je(),t=Hr(t,g,o,1,u,s,r,e,Ur,xr,null,yr),Ze())},i(u){if(!a){for(let g=0;g<s.length;g+=1)_e(t[g]);a=!0}},o(u){for(let g=0;g<t.length;g+=1)Ee(t[g]);a=!1},d(u){u&&c(e);for(let g=0;g<t.length;g+=1)t[g].d()}}}function Tl(l){let e;function t(s,o){return s[1]?Il:s[0]==="active"?Ll:s[0]==="completed"?Dl:El}let r=t(l),a=r(l);return{c(){e=p("div"),a.c(),this.h()},l(s){e=b(s,"DIV",{class:!0});var o=v(e);a.l(o),o.forEach(c),this.h()},h(){n(e,"class","text-center py-12")},m(s,o){K(s,e,o),a.m(e,null)},p(s,o){r===(r=t(s))&&a?a.p(s,o):(a.d(1),a=r(s),a&&(a.c(),a.m(e,null)))},i:Le,o:Le,d(s){s&&c(e),a.d()}}}function Cl(l){let e,t='<div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"></div>';return{c(){e=p("div"),e.innerHTML=t,this.h()},l(r){e=b(r,"DIV",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-3ztqvk"&&(e.innerHTML=t),this.h()},h(){n(e,"class","flex justify-center items-center py-12")},m(r,a){K(r,e,a)},p:Le,i:Le,o:Le,d(r){r&&c(e)}}}function xr(l,e){let t,r,a;return r=new al({props:{task:e[35]}}),r.$on("toggle",e[18]),r.$on("edit",e[19]),r.$on("delete",e[20]),{key:l,first:null,c(){t=It(),kt(r.$$.fragment),this.h()},l(s){t=It(),vt(r.$$.fragment,s),this.h()},h(){this.first=t},m(s,o){K(s,t,o),_t(r,s,o),a=!0},p(s,o){e=s;const u={};o[0]&4096&&(u.task=e[35]),r.$set(u)},i(s){a||(_e(r.$$.fragment,s),a=!0)},o(s){Ee(r.$$.fragment,s),a=!1},d(s){s&&c(t),pt(r,s)}}}function El(l){let e,t="No tasks yet. Create your first task!";return{c(){e=p("p"),e.textContent=t,this.h()},l(r){e=b(r,"P",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-srt1yr"&&(e.textContent=t),this.h()},h(){n(e,"class","text-gray-500 dark:text-gray-400 text-lg")},m(r,a){K(r,e,a)},p:Le,d(r){r&&c(e)}}}function Dl(l){let e,t="No completed tasks yet.";return{c(){e=p("p"),e.textContent=t,this.h()},l(r){e=b(r,"P",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-k6tz91"&&(e.textContent=t),this.h()},h(){n(e,"class","text-gray-500 dark:text-gray-400 text-lg")},m(r,a){K(r,e,a)},p:Le,d(r){r&&c(e)}}}function Ll(l){let e,t="No active tasks. You're all caught up! ðŸŽ‰";return{c(){e=p("p"),e.textContent=t,this.h()},l(r){e=b(r,"P",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-e6hear"&&(e.textContent=t),this.h()},h(){n(e,"class","text-gray-500 dark:text-gray-400 text-lg")},m(r,a){K(r,e,a)},p:Le,d(r){r&&c(e)}}}function Il(l){let e,t,r,a;return{c(){e=p("p"),t=se('No tasks found matching "'),r=se(l[1]),a=se('"'),this.h()},l(s){e=b(s,"P",{class:!0});var o=v(e);t=ae(o,'No tasks found matching "'),r=ae(o,l[1]),a=ae(o,'"'),o.forEach(c),this.h()},h(){n(e,"class","text-gray-500 dark:text-gray-400 text-lg")},m(s,o){K(s,e,o),i(e,t),i(e,r),i(e,a)},p(s,o){o[0]&2&&ve(r,s[1])},d(s){s&&c(e)}}}function Tr(l){let e,t;return e=new ul({}),e.$on("close",l[31]),e.$on("tagCreated",Vl),{c(){kt(e.$$.fragment)},l(r){vt(e.$$.fragment,r)},m(r,a){_t(e,r,a),t=!0},p:Le,i(r){t||(_e(e.$$.fragment,r),t=!0)},o(r){Ee(e.$$.fragment,r),t=!1},d(r){pt(e,r)}}}function Ml(l){let e,t,r,a,s,o,u='<h1 class="text-3xl font-bold text-gray-900 dark:text-white">HABoard</h1> <p class="text-sm text-gray-500 dark:text-gray-400 mt-1">Home Assistant To-Do</p>',g,f,d,h,_,L,N=l[14]?"Online":"Offline",V,w,B,A,x='<svg class="w-5 h-5 text-gray-600 dark:text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path></svg>',te,T,I,le,be,J,Y,O,W,z,M,H,de,G="Search tasks",re,Z,ie,j,k,q,E,U,Ce,he=l[5].length+"",me,pe,ye,je,fe,ne,X=l[4].length+"",He,ce,Te,R,$,P,D=l[3].length+"",ee,S,we,Oe,Ae,ue,ge,Fe,ke,De,Ke,ze,Be,Ie,Vt,Ht;function jt(C,oe){if(C[15])return ml;if(C[2])return kl}let et=jt(l),Me=et&&et(l),Ne=!l[6]&&!l[7]&&wr(l);const Ot=[wl,yl],Re=[];function At(C,oe){return C[6]?0:C[7]?1:-1}~(ue=At(l))&&(ge=Re[ue]=Ot[ue](l));const Ut=[Cl,Tl,xl],Ge=[];function Pt(C,oe){return C[9]?0:C[12].length===0?1:2}ke=Pt(l),De=Ge[ke]=Ut[ke](l);let xe=l[8]&&Tr(l);return Be=new vl({}),{c(){e=y(),t=p("div"),r=p("div"),a=p("header"),s=p("div"),o=p("div"),o.innerHTML=u,g=y(),f=p("div"),d=p("div"),h=p("span"),L=y(),V=se(N),B=y(),A=p("button"),A.innerHTML=x,te=y(),T=p("button"),I=Qe("svg"),le=Qe("path"),O=y(),Me&&Me.c(),W=y(),z=p("main"),M=p("div"),H=p("div"),de=p("label"),de.textContent=G,re=y(),Z=p("input"),ie=y(),j=Qe("svg"),k=Qe("path"),q=y(),E=p("div"),U=p("button"),Ce=se("Active ("),me=se(he),pe=se(")"),je=y(),fe=p("button"),ne=se("Done ("),He=se(X),ce=se(")"),R=y(),$=p("button"),P=se("All ("),ee=se(D),S=se(")"),Oe=y(),Ne&&Ne.c(),Ae=y(),ge&&ge.c(),Fe=y(),De.c(),Ke=y(),xe&&xe.c(),ze=y(),kt(Be.$$.fragment),this.h()},l(C){Ir("svelte-1hsqput",document.head).forEach(c),e=m(C),t=b(C,"DIV",{class:!0});var tt=v(t);r=b(tt,"DIV",{class:!0});var Xe=v(r);a=b(Xe,"HEADER",{class:!0});var mt=v(a);s=b(mt,"DIV",{class:!0});var yt=v(s);o=b(yt,"DIV",{"data-svelte-h":!0}),Q(o)!=="svelte-tdigmb"&&(o.innerHTML=u),g=m(yt),f=b(yt,"DIV",{class:!0});var rt=v(f);d=b(rt,"DIV",{class:!0});var wt=v(d);h=b(wt,"SPAN",{class:!0}),v(h).forEach(c),L=m(wt),V=ae(wt,N),wt.forEach(c),B=m(rt),A=b(rt,"BUTTON",{class:!0,"aria-label":!0,"data-svelte-h":!0}),Q(A)!=="svelte-jpjy48"&&(A.innerHTML=x),te=m(rt),T=b(rt,"BUTTON",{class:!0,"aria-label":!0});var qt=v(T);I=We(qt,"svg",{class:!0,fill:!0,viewBox:!0,stroke:!0,"aria-hidden":!0});var Ft=v(I);le=We(Ft,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),v(le).forEach(c),Ft.forEach(c),qt.forEach(c),rt.forEach(c),yt.forEach(c),O=m(mt),Me&&Me.l(mt),mt.forEach(c),W=m(Xe),z=b(Xe,"MAIN",{class:!0});var Ye=v(z);M=b(Ye,"DIV",{class:!0});var xt=v(M);H=b(xt,"DIV",{class:!0});var lt=v(H);de=b(lt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Q(de)!=="svelte-142qjm"&&(de.textContent=G),re=m(lt),Z=b(lt,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),ie=m(lt),j=We(lt,"svg",{class:!0,fill:!0,viewBox:!0,stroke:!0,"aria-hidden":!0});var Kt=v(j);k=We(Kt,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),v(k).forEach(c),Kt.forEach(c),lt.forEach(c),q=m(xt),E=b(xt,"DIV",{class:!0});var at=v(E);U=b(at,"BUTTON",{class:!0});var Tt=v(U);Ce=ae(Tt,"Active ("),me=ae(Tt,he),pe=ae(Tt,")"),Tt.forEach(c),je=m(at),fe=b(at,"BUTTON",{class:!0});var Ct=v(fe);ne=ae(Ct,"Done ("),He=ae(Ct,X),ce=ae(Ct,")"),Ct.forEach(c),R=m(at),$=b(at,"BUTTON",{class:!0});var Et=v($);P=ae(Et,"All ("),ee=ae(Et,D),S=ae(Et,")"),Et.forEach(c),at.forEach(c),xt.forEach(c),Oe=m(Ye),Ne&&Ne.l(Ye),Ae=m(Ye),ge&&ge.l(Ye),Fe=m(Ye),De.l(Ye),Ye.forEach(c),Xe.forEach(c),tt.forEach(c),Ke=m(C),xe&&xe.l(C),ze=m(C),vt(Be.$$.fragment,C),this.h()},h(){document.title="HABoard - Tasks",n(h,"class",_="w-2 h-2 rounded-full "+(l[14]?"bg-green-500":"bg-red-500")),n(d,"class",w="flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium "+(l[14]?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200")),n(A,"class","p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors"),n(A,"aria-label","Manage tags"),n(le,"stroke-linecap","round"),n(le,"stroke-linejoin","round"),n(le,"stroke-width","2"),n(le,"d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"),n(I,"class",be="w-5 h-5 text-gray-600 dark:text-gray-400 "+(l[13]?"animate-spin":"")),n(I,"fill","none"),n(I,"viewBox","0 0 24 24"),n(I,"stroke","currentColor"),n(I,"aria-hidden","true"),T.disabled=J=l[13]||!l[14],n(T,"class","p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"),n(T,"aria-label",Y=l[13]?"Syncing with server...":"Sync with server"),n(f,"class","flex items-center gap-3"),n(s,"class","flex items-center justify-between mb-4"),n(a,"class","mb-6"),n(de,"for","search-tasks"),n(de,"class","sr-only"),n(Z,"id","search-tasks"),n(Z,"type","text"),n(Z,"placeholder","Search tasks..."),n(Z,"class","w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"),n(k,"stroke-linecap","round"),n(k,"stroke-linejoin","round"),n(k,"stroke-width","2"),n(k,"d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"),n(j,"class","absolute left-3 top-2.5 w-5 h-5 text-gray-400"),n(j,"fill","none"),n(j,"viewBox","0 0 24 24"),n(j,"stroke","currentColor"),n(j,"aria-hidden","true"),n(H,"class","relative"),n(U,"class",ye="flex-1 px-4 py-2 rounded-lg font-medium transition-colors "+(l[0]==="active"?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600")),n(fe,"class",Te="flex-1 px-4 py-2 rounded-lg font-medium transition-colors "+(l[0]==="completed"?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600")),n($,"class",we="flex-1 px-4 py-2 rounded-lg font-medium transition-colors "+(l[0]==="all"?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600")),n(E,"class","flex gap-2"),n(M,"class","bg-white dark:bg-gray-800 rounded-lg p-4 shadow space-y-3"),n(z,"class","space-y-4"),n(r,"class","container mx-auto px-4 py-6 max-w-4xl"),n(t,"class","min-h-screen bg-gray-50 dark:bg-gray-900")},m(C,oe){K(C,e,oe),K(C,t,oe),i(t,r),i(r,a),i(a,s),i(s,o),i(s,g),i(s,f),i(f,d),i(d,h),i(d,L),i(d,V),i(f,B),i(f,A),i(f,te),i(f,T),i(T,I),i(I,le),i(a,O),Me&&Me.m(a,null),i(r,W),i(r,z),i(z,M),i(M,H),i(H,de),i(H,re),i(H,Z),l[23](Z),Ve(Z,l[1]),i(H,ie),i(H,j),i(j,k),i(M,q),i(M,E),i(E,U),i(U,Ce),i(U,me),i(U,pe),i(E,je),i(E,fe),i(fe,ne),i(fe,He),i(fe,ce),i(E,R),i(E,$),i($,P),i($,ee),i($,S),i(z,Oe),Ne&&Ne.m(z,null),i(z,Ae),~ue&&Re[ue].m(z,null),i(z,Fe),Ge[ke].m(z,null),K(C,Ke,oe),xe&&xe.m(C,oe),K(C,ze,oe),_t(Be,C,oe),Ie=!0,Vt||(Ht=[F(A,"click",l[21]),F(T,"click",l[22]),F(Z,"input",l[24]),F(U,"click",l[25]),F(fe,"click",l[26]),F($,"click",l[27])],Vt=!0)},p(C,oe){(!Ie||oe[0]&16384&&_!==(_="w-2 h-2 rounded-full "+(C[14]?"bg-green-500":"bg-red-500")))&&n(h,"class",_),(!Ie||oe[0]&16384)&&N!==(N=C[14]?"Online":"Offline")&&ve(V,N),(!Ie||oe[0]&16384&&w!==(w="flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium "+(C[14]?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200")))&&n(d,"class",w),(!Ie||oe[0]&8192&&be!==(be="w-5 h-5 text-gray-600 dark:text-gray-400 "+(C[13]?"animate-spin":"")))&&n(I,"class",be),(!Ie||oe[0]&24576&&J!==(J=C[13]||!C[14]))&&(T.disabled=J),(!Ie||oe[0]&8192&&Y!==(Y=C[13]?"Syncing with server...":"Sync with server"))&&n(T,"aria-label",Y),et===(et=jt(C))&&Me?Me.p(C,oe):(Me&&Me.d(1),Me=et&&et(C),Me&&(Me.c(),Me.m(a,null))),oe[0]&2&&Z.value!==C[1]&&Ve(Z,C[1]),(!Ie||oe[0]&32)&&he!==(he=C[5].length+"")&&ve(me,he),(!Ie||oe[0]&1&&ye!==(ye="flex-1 px-4 py-2 rounded-lg font-medium transition-colors "+(C[0]==="active"?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600")))&&n(U,"class",ye),(!Ie||oe[0]&16)&&X!==(X=C[4].length+"")&&ve(He,X),(!Ie||oe[0]&1&&Te!==(Te="flex-1 px-4 py-2 rounded-lg font-medium transition-colors "+(C[0]==="completed"?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600")))&&n(fe,"class",Te),(!Ie||oe[0]&8)&&D!==(D=C[3].length+"")&&ve(ee,D),(!Ie||oe[0]&1&&we!==(we="flex-1 px-4 py-2 rounded-lg font-medium transition-colors "+(C[0]==="all"?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600")))&&n($,"class",we),!C[6]&&!C[7]?Ne?Ne.p(C,oe):(Ne=wr(C),Ne.c(),Ne.m(z,Ae)):Ne&&(Ne.d(1),Ne=null);let tt=ue;ue=At(C),ue===tt?~ue&&Re[ue].p(C,oe):(ge&&(Je(),Ee(Re[tt],1,1,()=>{Re[tt]=null}),Ze()),~ue?(ge=Re[ue],ge?ge.p(C,oe):(ge=Re[ue]=Ot[ue](C),ge.c()),_e(ge,1),ge.m(z,Fe)):ge=null);let Xe=ke;ke=Pt(C),ke===Xe?Ge[ke].p(C,oe):(Je(),Ee(Ge[Xe],1,1,()=>{Ge[Xe]=null}),Ze(),De=Ge[ke],De?De.p(C,oe):(De=Ge[ke]=Ut[ke](C),De.c()),_e(De,1),De.m(z,null)),C[8]?xe?(xe.p(C,oe),oe[0]&256&&_e(xe,1)):(xe=Tr(C),xe.c(),_e(xe,1),xe.m(ze.parentNode,ze)):xe&&(Je(),Ee(xe,1,1,()=>{xe=null}),Ze())},i(C){Ie||(_e(ge),_e(De),_e(xe),_e(Be.$$.fragment,C),Ie=!0)},o(C){Ee(ge),Ee(De),Ee(xe),Ee(Be.$$.fragment,C),Ie=!1},d(C){C&&(c(e),c(t),c(Ke),c(ze)),Me&&Me.d(),l[23](null),Ne&&Ne.d(),~ue&&Re[ue].d(),Ge[ke].d(),xe&&xe.d(C),pt(Be,C),Vt=!1,it(Ht)}}}function Nl(l){if(!l)return"Never";const e=Math.floor((Date.now()-l)/1e3);return e<60?"Just now":e<3600?`${Math.floor(e/60)}m ago`:e<86400?`${Math.floor(e/3600)}h ago`:`${Math.floor(e/86400)}d ago`}const Vl=()=>{};function Sl(l,e,t){let r,a,s,o,u,g,f,d,h;Pe(l,Pr,k=>t(2,a=k)),Pe(l,qr,k=>t(3,s=k)),Pe(l,Fr,k=>t(4,o=k)),Pe(l,Kr,k=>t(5,u=k)),Pe(l,zr,k=>t(13,g=k)),Pe(l,Rr,k=>t(14,f=k)),Pe(l,ut,k=>t(34,d=k)),Pe(l,Gr,k=>t(15,h=k));let _=!1,L=null,N=!1,V="active",w="",B=!0,A,x,te=[];Mr(async()=>{try{await Br()}catch(k){console.error("Failed to initialize:",k)}finally{t(9,B=!1)}x=hl(),te=[Ue({key:"/",description:"Quick add new task",action:()=>{!_&&!L&&t(6,_=!0)}}),Ue({key:"n",description:"Create new task",action:()=>{!_&&!L&&t(6,_=!0)}}),Ue({key:"Escape",description:"Close modal or form",action:()=>{_?t(6,_=!1):L?t(7,L=null):N?t(8,N=!1):d&&ut.set(!1)}}),Ue({key:"?",description:"Show keyboard shortcuts",action:()=>{ut.set(!0)}}),Ue({key:"s",ctrl:!0,description:"Sync with server",action:()=>{f&&!g&&St()}}),Ue({key:"s",meta:!0,description:"Sync with server",action:()=>{f&&!g&&St()}}),Ue({key:"k",ctrl:!0,description:"Focus search",action:()=>{A==null||A.focus()}}),Ue({key:"k",meta:!0,description:"Focus search",action:()=>{A==null||A.focus()}}),Ue({key:"t",description:"Open tag manager",action:()=>{N||t(8,N=!0)}}),Ue({key:"1",description:"Show active tasks",action:()=>{t(0,V="active")}}),Ue({key:"2",description:"Show completed tasks",action:()=>{t(0,V="completed")}}),Ue({key:"3",description:"Show all tasks",action:()=>{t(0,V="all")}})]}),Nr(()=>{x==null||x(),te.forEach(k=>k()),Xr()});async function T(k){try{await jr(k.detail),t(6,_=!1)}catch(q){console.error("Failed to create task:",q)}}async function I(k){if(L)try{await Yr(L.id,k.detail),t(7,L=null)}catch(q){console.error("Failed to update task:",q)}}async function le(k){try{await Or(k.detail)}catch(q){console.error("Failed to toggle task:",q)}}async function be(k){const q=s.find(E=>E.id===k.detail);q&&(t(7,L=q),t(6,_=!1))}async function J(k){try{await Ar(k.detail)}catch(q){console.error("Failed to delete task:",q)}}let Y="";const O=()=>t(8,N=!0),W=()=>St();function z(k){Vr[k?"unshift":"push"](()=>{A=k,t(10,A)})}function M(){w=this.value,t(1,w)}const H=()=>t(0,V="active"),de=()=>t(0,V="completed"),G=()=>t(0,V="all"),re=()=>t(6,_=!0),Z=()=>t(6,_=!1),ie=()=>t(7,L=null),j=()=>t(8,N=!1);return l.$$.update=()=>{l.$$.dirty[0]&59&&t(12,r=(()=>{let k;switch(V){case"active":k=u;break;case"completed":k=o;break;default:k=s}if(w.trim()){const q=w.toLowerCase();k=k.filter(E=>{var U;return E.title.toLowerCase().includes(q)||((U=E.notes)==null?void 0:U.toLowerCase().includes(q))||E.tags.some(Ce=>Ce.toLowerCase().includes(q))})}return k})()),l.$$.dirty[0]&4&&t(11,Y=Nl(a))},[V,w,a,s,o,u,_,L,N,B,A,Y,r,g,f,h,T,I,le,be,J,O,W,z,M,H,de,G,re,Z,ie,j]}class Al extends gt{constructor(e){super(),bt(this,e,Sl,Ml,ht,{},null,[-1,-1])}}export{Al as component};
