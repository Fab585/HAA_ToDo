import{s as H,d as f,c as D,o as l,f as y,g as p,k as w,m as Z,p as ee,b as te,e as _,q as re,u as L,j as W,h as se,v as S,l as j,t as oe,w as ae,x as le,y as ne,z as ie,A as ce}from"../chunks/DNIhbMUA.js";import{S as J,i as Q,t as z,a as V,g as de,c as ue,b as K,d as fe,m as ge,e as he,f as _e}from"../chunks/B5VZwSLu.js";import{e as P,u as pe,d as ve,f as R,o as ke,n as be,s as me}from"../chunks/toP5lbbu.js";function Y(d,t,r){const a=d.slice();return a[4]=t[r],a}function F(d,t){let r,a,n,c,o,e,s,i,$=t[4].message+"",x,E,C,v,k,b,M,I,B,m,h,N,T;function X(){return t[3](t[4])}return{key:d,first:null,c(){r=w("div"),a=S("svg"),n=S("path"),e=j(),s=w("div"),i=w("p"),x=oe($),C=j(),v=w("button"),k=S("svg"),b=S("path"),I=j(),this.h()},l(g){r=y(g,"DIV",{class:!0,role:!0});var u=p(r);a=L(u,"svg",{class:!0,fill:!0,viewBox:!0,stroke:!0});var q=p(a);n=L(q,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),p(n).forEach(f),q.forEach(f),e=W(u),s=y(u,"DIV",{class:!0});var A=p(s);i=y(A,"P",{class:!0});var O=p(i);x=se(O,$),O.forEach(f),A.forEach(f),C=W(u),v=y(u,"BUTTON",{class:!0,"aria-label":!0});var U=p(v);k=L(U,"svg",{class:!0,fill:!0,viewBox:!0,stroke:!0});var G=p(k);b=L(G,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),p(b).forEach(f),G.forEach(f),U.forEach(f),I=W(u),u.forEach(f),this.h()},h(){l(n,"stroke-linecap","round"),l(n,"stroke-linejoin","round"),l(n,"stroke-width","2"),l(n,"d",c=t[1][t[4].type]),l(a,"class",o="w-6 h-6 flex-shrink-0 "+t[2][t[4].type].icon),l(a,"fill","none"),l(a,"viewBox","0 0 24 24"),l(a,"stroke","currentColor"),l(i,"class","text-sm font-medium"),l(s,"class",E="flex-1 "+t[2][t[4].type].text),l(b,"stroke-linecap","round"),l(b,"stroke-linejoin","round"),l(b,"stroke-width","2"),l(b,"d","M6 18L18 6M6 6l12 12"),l(k,"class","w-5 h-5"),l(k,"fill","none"),l(k,"viewBox","0 0 24 24"),l(k,"stroke","currentColor"),l(v,"class",M="flex-shrink-0 "+t[2][t[4].type].text+" opacity-70 hover:opacity-100 transition-opacity"),l(v,"aria-label","Dismiss"),l(r,"class",B="flex items-start gap-3 p-4 rounded-lg border-l-4 shadow-lg "+t[2][t[4].type].bg+" "+t[2][t[4].type].border),l(r,"role","alert"),this.first=r},m(g,u){D(g,r,u),_(r,a),_(a,n),_(r,e),_(r,s),_(s,i),_(i,x),_(r,C),_(r,v),_(v,k),_(k,b),_(r,I),h=!0,N||(T=re(v,"click",X),N=!0)},p(g,u){t=g,(!h||u&1&&c!==(c=t[1][t[4].type]))&&l(n,"d",c),(!h||u&1&&o!==(o="w-6 h-6 flex-shrink-0 "+t[2][t[4].type].icon))&&l(a,"class",o),(!h||u&1)&&$!==($=t[4].message+"")&&te(x,$),(!h||u&1&&E!==(E="flex-1 "+t[2][t[4].type].text))&&l(s,"class",E),(!h||u&1&&M!==(M="flex-shrink-0 "+t[2][t[4].type].text+" opacity-70 hover:opacity-100 transition-opacity"))&&l(v,"class",M),(!h||u&1&&B!==(B="flex items-start gap-3 p-4 rounded-lg border-l-4 shadow-lg "+t[2][t[4].type].bg+" "+t[2][t[4].type].border))&&l(r,"class",B)},i(g){h||(g&&ee(()=>{h&&(m||(m=K(r,R,{y:50,duration:300},!0)),m.run(1))}),h=!0)},o(g){g&&(m||(m=K(r,R,{y:50,duration:300},!1)),m.run(0)),h=!1},d(g){g&&f(r),g&&m&&m.end(),N=!1,T()}}}function ye(d){let t,r=[],a=new Map,n,c=P(d[0]);const o=e=>e[4].id;for(let e=0;e<c.length;e+=1){let s=Y(d,c,e),i=o(s);a.set(i,r[e]=F(i,s))}return{c(){t=w("div");for(let e=0;e<r.length;e+=1)r[e].c();this.h()},l(e){t=y(e,"DIV",{class:!0});var s=p(t);for(let i=0;i<r.length;i+=1)r[i].l(s);s.forEach(f),this.h()},h(){l(t,"class","fixed bottom-4 right-4 z-50 flex flex-col gap-2 max-w-md")},m(e,s){D(e,t,s);for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(t,null);n=!0},p(e,[s]){s&7&&(c=P(e[0]),de(),r=pe(r,s,o,1,e,c,a,t,ke,F,null,Y),ue())},i(e){if(!n){for(let s=0;s<c.length;s+=1)V(r[s]);n=!0}},o(e){for(let s=0;s<r.length;s+=1)z(r[s]);n=!1},d(e){e&&f(t);for(let s=0;s<r.length;s+=1)r[s].d()}}}function we(d,t,r){let a;return Z(d,be,e=>r(0,a=e)),[a,{success:"M5 13l4 4L19 7",error:"M6 18L18 6M6 6l12 12",warning:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z",info:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},{success:{bg:"bg-green-50 dark:bg-green-900",border:"border-green-400 dark:border-green-600",text:"text-green-800 dark:text-green-200",icon:"text-green-500 dark:text-green-400"},error:{bg:"bg-red-50 dark:bg-red-900",border:"border-red-400 dark:border-red-600",text:"text-red-800 dark:text-red-200",icon:"text-red-500 dark:text-red-400"},warning:{bg:"bg-yellow-50 dark:bg-yellow-900",border:"border-yellow-400 dark:border-yellow-600",text:"text-yellow-800 dark:text-yellow-200",icon:"text-yellow-500 dark:text-yellow-400"},info:{bg:"bg-blue-50 dark:bg-blue-900",border:"border-blue-400 dark:border-blue-600",text:"text-blue-800 dark:text-blue-200",icon:"text-blue-500 dark:text-blue-400"}},e=>ve(e.id)]}class $e extends J{constructor(t){super(),Q(this,t,we,ye,H,{})}}function xe(d){let t,r,a,n;const c=d[1].default,o=ae(c,d,d[0],null);return a=new $e({}),{c(){t=w("div"),o&&o.c(),r=j(),_e(a.$$.fragment),this.h()},l(e){t=y(e,"DIV",{class:!0});var s=p(t);o&&o.l(s),s.forEach(f),r=W(e),he(a.$$.fragment,e),this.h()},h(){l(t,"class","min-h-screen bg-gray-50 dark:bg-gray-900")},m(e,s){D(e,t,s),o&&o.m(t,null),D(e,r,s),ge(a,e,s),n=!0},p(e,[s]){o&&o.p&&(!n||s&1)&&le(o,c,e,e[0],n?ie(c,e[0],s,null):ne(e[0]),null)},i(e){n||(V(o,e),V(a.$$.fragment,e),n=!0)},o(e){z(o,e),z(a.$$.fragment,e),n=!1},d(e){e&&(f(t),f(r)),o&&o.d(e),fe(a,e)}}}function Ee(d,t,r){let{$$slots:a={},$$scope:n}=t;ce(()=>{c()});async function c(){if(!("serviceWorker"in navigator)){console.log("Service workers not supported");return}try{const o=await navigator.serviceWorker.register("/service-worker.js",{scope:"/"});if(console.log("Service worker registered:",o.scope),setInterval(()=>{o.update()},6e4),o.addEventListener("updatefound",()=>{const e=o.installing;e&&e.addEventListener("statechange",()=>{e.state==="installed"&&navigator.serviceWorker.controller&&console.log("New service worker available, will activate on next page load")})}),navigator.serviceWorker.addEventListener("message",e=>{console.log("Message from service worker:",e.data),e.data.type==="BACKGROUND_SYNC"&&e.data.action==="start"&&me().catch(s=>{console.error("Background sync failed:",s)})}),"sync"in o)try{await o.sync.register("haboard-sync"),console.log("Background sync registered")}catch(e){console.warn("Background sync registration failed:",e)}}catch(o){console.error("Service worker registration failed:",o)}}return d.$$set=o=>{"$$scope"in o&&r(0,n=o.$$scope)},[n,a]}class Se extends J{constructor(t){super(),Q(this,t,Ee,xe,H,{})}}export{Se as component};
